accelerator:
  displayName: Hello World
  description: "Hello World Accelerator"
  iconUrl: https://raw.githubusercontent.com/simple-starters/icons/master/icon-tanzu-light.png
  tags: ["spring", "java", "web", "rest"]

  options:
  #
  # UI option to get the package name for the generated java code
  #
  - name: packageName
    label: Package name
    dataType: string
    required: true
    defaultValue: "com.acme"
    description: Name of the package to put generated code under

  #
  # UI option to get java version to use
  #
  - name: javaVersion
    label: Java version to use
    inputType: select
    defaultValue: "11"
    choices:
    - value: "11"
      text: "Java 11"
    - value: "17"
      text: "Java 17"
    description: Select java version to use

  #
  # UI option to optionally generate K8s deployment files
  #
  - name: generateK8sYAMLS
    label: Generate K8s YAML for this project
    inputType: checkbox
    dataType: boolean
    defaultValue: false

## Added engine section that does the transforms. Here we are using chain transform with include filter of all folders and files. 
## We then add exclude filter to ensure resulting output files won't include files.
engine:
  chain: 
  - include: [ "**/**" ]
    exclude: [ "options.json", "run.sh","acc-engine-endpoint.sh"]
  # I want to change "helloworld" in pom.xml to "projectName" value and include all files from include filter above.
  # But wait, I only get pom.xml as output. I want all the files as well....
  - include: [ "pom.xml" ]
    chain:
      - type: ReplaceText
        substitutions:
          - text: helloworld
            with: "#projectName"